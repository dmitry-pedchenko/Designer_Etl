# Графический интерфейс загрузчика
## Описание приложения

Данное приложение выполнено в виде графического интерфейса, созданного для удобства использования системы загрузки.
Данное руководство служит как дополнение для основного руководства, которое находитися в файле readme.md. Описание настроек
системы и способы настроек находятся в основном руководстве, в данном файле находится только описание применения графического
интерфейса.
## Оглавление

1. [Установка тебуемых пакетов](#Установка-тебуемых-пакетов)
2. [Информация о структуре проекта](#Информация-о-структуре-проекта)
2. [Сборка пакета в exe файл](#Сборка-пакета-в-exe-файл)
4. [Изменение языка системы](#Изменение-языка-системы)
5. [Запуск системы](#Запуск-системы)


## Установка тебуемых пакетов

Для установки требуемых пакетов выполните в консоли следующие команды: 
```
pip install pyqt5
```

## Информация о структуре проекта

В структуру проекта входят пакеты описанные ранне в основном файле описания системы, а так же новый пакет,
отвечающий за графическое оформление `GUI`
Он имеет следующую структуру:

- GUI
    - Creators
    - DAO
    - gui_qt
    - System
    - System
    - Trees
    - Windows
    - `gui_main_interface.py`
    
`Creators` В данном пакете находятся функции создания компонентов интерфейса
`DAO` в даном пакете находятся инструменты доступа к данным и создания файлов
`gui_qt` В данном пакете находятся файлы интерфейсов, созданные при помощи QT Desigener а также 
скрипты конвертирования их в файлы с расширением `.py`

`System` в данном пакете находятся файлы настроек системы. В частности настройка языка интерфейса
`Trees` в данном пакете находятся классы объектов интерфейса имеющие древесную структуру
`Windows` в данном пакете находятся объекты интерфейса представляющие собой окна программы.
`gui_main_interface.py` данный скрипт является основным скриптом запуска системы
## Сборка пакета в exe файл

ВАЖНО: сборка пакета под Windows осуществляется только из под ОС Windows

Для того чтобы появилась возможность запуска проекта из `.exe`файла нужно выполнить, находясь
в корневой директории следующее:

В файле `Core/Logger/Logger.py` в строке 184 строчку:

```python
if os.path.basename(sys.argv[0]) != 'gui_main_interface.py': 
```

нужно заменить на:

```python
if os.path.basename(sys.argv[0]) != 'gui_main_interface.exe': 
```

и затем, находясь в корневой директории, выполнить в командной строке следующее:

```bash
pyinstaller --noconsole --onefile --icon=icon.ico GUI/gui_main_interface.py
```

В результате появится директория dist, в которой находится собранный пакет 

`gui_main_interface.exe`

В директорию dist необходимо скопировать из директории `GUI` следующие диреткории вместе с содержимым:
- Source
- config
- System (только файлы `config.json` и `lan_config.xml` )
- log

т.е. папка с проектом будет выглядеть следующим образом

<image src="readme/open/dir.png">


## Изменение языка системы
 
Для изменения языка системы нужно выполнить следующее:

- Закрыть программу
- В файле `GUI/System/config.json` в разделе "language" значение поставить либо `sys` либо `rus`
- Открыть программу

Значение языка автоматически применится

`sys` устанавливает значения полей в системных переменных (как это описано в основном описании системы).

`rus` устанавливает язык интерфейса в русский язык.

По умолчанию стоит русский язык.

## Запуск системы

Для запуска системы нужно выполнить следующие действия:

- Находясь в коренвой директории в консоле выполнить
```bash
python GUI/gui_main_interface.py
```

Или, если собран пакет .exe , то запустить `gui_main_interface.exe`


